extends: opencode_openai_gpt5nano_c_fs_cli_shared.yaml

profile: { name: opencode-openai-gpt5nano-happy-capture }

features:
  plan: true
  todos:
    enabled: true
    strict: false
    reset_streak_on_todo: true

guardrails:
  plan_bootstrap:
    strategy: hard
    max_turns: 1
    warmup_turns: 0
    seed_file: implementations/system_prompts/opencode/plan_bootstrap_protofs_warmup.yaml
  overrides:
    zero_tool_watchdog:
      parameters:
        warn_after_turns: 15
        abort_after_turns: 60
    completion_guard:
      parameters:
        warnings_before_abort: 5
    workspace_context:
      parameters:
        require_exploration_before_edit: false
        require_read_before_edit: false
        require_progress_before_todo_updates: false

artifact_validation:
  allow_missing:
    - filesystem.h
    - filesystem.c
    - test_filesystem.c

concurrency:
  at_most_one_of: []
