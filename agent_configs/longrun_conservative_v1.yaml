extends: base_v2.yaml
version: 2

profile:
  name: longrun-conservative-v1

prompts:
  packs:
    base:
      builder: implementations/system_prompts/longrun/policy_conservative.md

long_running:
  enabled: true
  policy_profile: conservative
  controller: longrun_v1
  reset_policy: fresh
  episode:
    max_steps_override: 16
  queue:
    backend: todo_store
  reviewer:
    enabled: false
    mode: read_only
  resume:
    enabled: true
    state_path: meta/longrun_state.json
  verification:
    tiers:
      - name: smoke
        commands:
          - pytest -q tests/test_longrun_controller.py
        timeout_seconds: 120
        hard_fail: false
  recovery:
    no_progress_max_episodes: 2
    no_progress_signature_repeats: 2
    rollback_enabled: true
    checkpoint_every_episodes: 1
    backoff_base_seconds: 1.0
    backoff_max_seconds: 8.0
    backoff_disable_jitter: false
  observability:
    emit_macro_events: false
  budgets:
    max_episodes: 4
    max_wall_clock_seconds: 900
    max_retries_per_item: 1
    total_tokens: 250000
    total_cost_usd: 3.0
