[
  { "action": "log", "message": "@ file picker PTY harness start" },
  { "action": "waitFor", "text": "interactive session", "timeoutMs": 15000 },
  { "action": "snapshot", "label": "initial" },
  { "action": "type", "text": "@" },
  { "action": "waitFor", "text": "Attach file", "timeoutMs": 10000 },
  { "action": "waitFor", "text": "DIR  docs/", "timeoutMs": 10000 },
  { "action": "snapshot", "label": "picker-root" },
  { "action": "press", "key": "down" },
  { "action": "press", "key": "enter" },
  { "action": "waitFor", "text": "Attach file src", "timeoutMs": 10000 },
  { "action": "waitFor", "text": "DIR  repl/", "timeoutMs": 10000 },
  { "action": "snapshot", "label": "picker-src" },
  { "action": "press", "key": "enter" },
  { "action": "waitFor", "text": "Attach file src/repl", "timeoutMs": 10000 },
  { "action": "waitFor", "text": "DIR  components/", "timeoutMs": 10000 },
  { "action": "snapshot", "label": "picker-repl" },
  { "action": "press", "key": "enter" },
  { "action": "waitFor", "text": "Attach file src/repl/components", "timeoutMs": 10000 },
  { "action": "waitFor", "text": "FILE LineEditor.tsx", "timeoutMs": 10000 },
  { "action": "press", "key": "down" },
  { "action": "press", "key": "enter" },
  { "action": "waitFor", "text": "ReplView.tsx", "timeoutMs": 10000 },
  { "action": "snapshot", "label": "inserted-mention" },
  { "action": "type", "text": "@" },
  { "action": "waitFor", "text": "Attach file", "timeoutMs": 10000 },
  { "action": "press", "key": "escape" },
  { "action": "wait", "ms": 250 },
  { "action": "snapshot", "label": "cancel-keeps-at" },
  { "action": "log", "message": "@ file picker PTY harness complete" }
]
