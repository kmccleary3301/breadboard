id: bash
name: bash
type_id: python
manipulations: []
syntax_formats_supported:
- native_function_calling
preferred_formats:
- native_function_calling
execution:
  blocking: false
provider_routing:
  openai:
    native_primary: true
    function_call: auto
    additional_properties: false
    strict: false
description: "Executes a given bash command in a persistent shell session with optional\
  \ timeout, ensuring proper handling and security measures.\n\nAll commands run in\
  \ /shared_folders/querylake_server/ray_testing/ray_SCE/misc/oh_my_opencode_runs/goldens/opencode_1.0.193__oh-my-opencode_2.5.1/phase8_async_subagents_live_check_v2/runs/20251226_210616/workspace\
  \ by default. Use the `workdir` parameter if you need to run a command in a different\
  \ directory.\n\nBefore executing the command, please follow these steps:\n\n1. Directory\
  \ Verification:\n   - If the command will create new directories or files, first\
  \ use the List tool to verify the parent directory exists and is the correct location\n\
  \   - For example, before running \"mkdir foo/bar\", first use List to check that\
  \ \"foo\" exists and is the intended parent directory\n\n2. Command Execution:\n\
  \   - Always quote file paths that contain spaces with double quotes (e.g., rm \"\
  path with spaces/file.txt\")\n   - Examples of proper quoting:\n     - mkdir \"\
  /Users/name/My Documents\" (correct)\n     - mkdir /Users/name/My Documents (incorrect\
  \ - will fail)\n     - python \"/path/with spaces/script.py\" (correct)\n     -\
  \ python /path/with spaces/script.py (incorrect - will fail)\n   - After ensuring\
  \ proper quoting, execute the command.\n   - Capture the output of the command.\n\
  \nUsage notes:\n    - The command argument is required.\n    - You can specify an\
  \ optional timeout in milliseconds (up to 600000ms / 10 minutes).\n  If not specified,\
  \ commands will timeout after 120000ms (2 minutes).\n    - The description argument\
  \ is required. You must write a clear, concise description of what this command\
  \ does in 5-10 words.\n    - If the output exceeds 30000 characters, output will\
  \ be truncated before being\n  returned to you.\n    - Avoid using Bash with the\
  \ `find`, `grep`, `cat`, `head`, `tail`, `sed`, `awk`, or\n  `echo` commands, unless\
  \ explicitly instructed or when these commands are truly necessary\n   for the task.\
  \ Instead, always prefer using the dedicated tools for these commands:\n      -\
  \ File search: Use Glob (NOT find or ls)\n      - Content search: Use Grep (NOT\
  \ grep or rg)\n      - Read files: Use Read (NOT cat/head/tail)\n      - Edit files:\
  \ Use Edit (NOT sed/awk)\n      - Write files: Use Write (NOT echo >/cat <<EOF)\n\
  \      - Communication: Output text directly (NOT echo/printf)\n    - When issuing\
  \ multiple commands:\n      - If the commands are independent and can run in parallel,\
  \ make multiple Bash tool\n  calls in a single message. For example, if you need\
  \ to run \"git status\" and \"git diff\",\n  send a single message with two Bash\
  \ tool calls in parallel.\n      - If the commands depend on each other and must\
  \ run sequentially, use a single Bash\n  call with '&&' to chain them together (e.g.,\
  \ `git add . && git commit -m \"message\" &&\n  git push`). For instance, if one\
  \ operation must complete before another starts (like\n  mkdir before cp, Write\
  \ before Bash for git operations, or git add before git commit),\n  run these operations\
  \ sequentially instead.\n      - Use ';' only when you need to run commands sequentially\
  \ but don't care if earlier\n  commands fail\n      - DO NOT use newlines to separate\
  \ commands (newlines are ok in quoted strings)\n    - Try to maintain your current\
  \ working directory throughout the session by using\n  absolute paths and avoiding\
  \ usage of `cd`. You may use `cd` if the User explicitly\n  requests it.\n     \
  \ <good-example>\n      pytest /foo/bar/tests\n      </good-example>\n      <bad-example>\n\
  \      cd /foo/bar && pytest tests\n      </bad-example>\n\n# Working Directory\n\
  \nThe `workdir` parameter sets the working directory for command execution. Prefer\
  \ using `workdir` over `cd <dir> &&` command chains when you simply need to run\
  \ a command in a different directory.\n\n<good-example>\nworkdir=\"/foo/bar\", command=\"\
  pytest tests\"\n</good-example>\n<good-example>\ncommand=\"pytest /foo/bar/tests\"\
  \n</good-example>\n<bad-example>\ncommand=\"cd /foo/bar && pytest tests\"\n</bad-example>\n\
  \n# Committing changes with git\n\nIMPORTANT: ONLY COMMIT IF THE USER ASKS YOU TO.\n\
  \nIf and only if the user asks you to create a new git commit, follow these steps\
  \ carefully:\n\n1. You have the capability to call multiple tools in a single response.\
  \ When multiple independent pieces of information are requested, batch your tool\
  \ calls together for optimal performance. ALWAYS run the following bash commands\
  \ in parallel, each using the Bash tool:\n   - Run a git status command to see all\
  \ untracked files.\n   - Run a git diff command to see both staged and unstaged\
  \ changes that will be committed.\n   - Run a git log command to see recent commit\
  \ messages, so that you can follow this repository's commit message style.\n\n2.\
  \ Analyze all staged changes (both previously staged and newly added) and draft\
  \ a commit message. When analyzing:\n\n- List the files that have been changed or\
  \ added\n- Summarize the nature of the changes (eg. new feature, enhancement to\
  \ an existing feature, bug fix, refactoring, test, docs, etc.)\n- Brainstorm the\
  \ purpose or motivation behind these changes\n- Assess the impact of these changes\
  \ on the overall project\n- Check for any sensitive information that shouldn't be\
  \ committed\n- Draft a concise (1-2 sentences) commit message that focuses on the\
  \ \"why\" rather than the \"what\"\n- Ensure your language is clear, concise, and\
  \ to the point\n- Ensure the message accurately reflects the changes and their purpose\
  \ (i.e. \"add\" means a wholly new feature, \"update\" means an enhancement to an\
  \ existing feature, \"fix\" means a bug fix, etc.)\n- Ensure the message is not\
  \ generic (avoid words like \"Update\" or \"Fix\" without context)\n- Review the\
  \ draft message to ensure it accurately reflects the changes and their purpose\n\
  \n3. You have the capability to call multiple tools in a single response. When multiple\
  \ independent pieces of information are requested, batch your tool calls together\
  \ for optimal performance. ALWAYS run the following commands in parallel:\n   -\
  \ Add relevant untracked files to the staging area.\n   - Run git status to make\
  \ sure the commit succeeded.\n\n4. If the commit fails due to pre-commit hook changes,\
  \ retry the commit ONCE to include these automated changes. If it fails again, it\
  \ usually means a pre-commit hook is preventing the commit. If the commit succeeds\
  \ but you notice that files were modified by the pre-commit hook, you MUST amend\
  \ your commit to include them.\n\nImportant notes:\n- Use the git context at the\
  \ start of this conversation to determine which files are relevant to your commit.\
  \ Be careful not to stage and commit files (e.g. with `git add .`) that aren't relevant\
  \ to your commit.\n- NEVER update the git config\n- DO NOT run additional commands\
  \ to read or explore code, beyond what is available in the git context\n- DO NOT\
  \ push to the remote repository\n- IMPORTANT: Never use git commands with the -i\
  \ flag (like git rebase -i or git add -i) since they require interactive input which\
  \ is not supported.\n- If there are no changes to commit (i.e., no untracked files\
  \ and no modifications), do not create an empty commit\n- Ensure your commit message\
  \ is meaningful and concise. It should explain the purpose of the changes, not just\
  \ describe them.\n- Return an empty response - the user will see the git output\
  \ directly\n\n# Creating pull requests\nUse the gh command via the Bash tool for\
  \ ALL GitHub-related tasks including working with issues, pull requests, checks,\
  \ and releases. If given a Github URL use the gh command to get the information\
  \ needed.\n\nIMPORTANT: When the user asks you to create a pull request, follow\
  \ these steps carefully:\n\n1. You have the capability to call multiple tools in\
  \ a single response. When multiple independent pieces of information are requested,\
  \ batch your tool calls together for optimal performance. ALWAYS run the following\
  \ bash commands in parallel using the Bash tool, in order to understand the current\
  \ state of the branch since it diverged from the main branch:\n   - Run a git status\
  \ command to see all untracked files\n   - Run a git diff command to see both staged\
  \ and unstaged changes that will be committed\n   - Check if the current branch\
  \ tracks a remote branch and is up to date with the remote, so you know if you need\
  \ to push to the remote\n   - Run a git log command and `git diff main...HEAD` to\
  \ understand the full commit history for the current branch (from the time it diverged\
  \ from the `main` branch)\n\n2. Analyze all changes that will be included in the\
  \ pull request, making sure to look at all relevant commits (NOT just the latest\
  \ commit, but ALL commits that will be included in the pull request!!!), and draft\
  \ a pull request summary. Wrap your analysis process in <pr_analysis> tags:\n\n\
  <pr_analysis>\n- List the commits since diverging from the main branch\n- Summarize\
  \ the nature of the changes (eg. new feature, enhancement to an existing feature,\
  \ bug fix, refactoring, test, docs, etc.)\n- Brainstorm the purpose or motivation\
  \ behind these changes\n- Assess the impact of these changes on the overall project\n\
  - Do not use tools to explore code, beyond what is available in the git context\n\
  - Check for any sensitive information that shouldn't be committed\n- Draft a concise\
  \ (1-2 bullet points) pull request summary that focuses on the \"why\" rather than\
  \ the \"what\"\n- Ensure the summary accurately reflects all changes since diverging\
  \ from the main branch\n- Ensure your language is clear, concise, and to the point\n\
  - Ensure the summary accurately reflects the changes and their purpose (ie. \"add\"\
  \ means a wholly new feature, \"update\" means an enhancement to an existing feature,\
  \ \"fix\" means a bug fix, etc.)\n- Ensure the summary is not generic (avoid words\
  \ like \"Update\" or \"Fix\" without context)\n- Review the draft summary to ensure\
  \ it accurately reflects the changes and their purpose\n</pr_analysis>\n\n3. You\
  \ have the capability to call multiple tools in a single response. When multiple\
  \ independent pieces of information are requested, batch your tool calls together\
  \ for optimal performance. ALWAYS run the following commands in parallel:\n   -\
  \ Create new branch if needed\n   - Push to remote with -u flag if needed\n   -\
  \ Create PR using gh pr create with the format below. Use a HEREDOC to pass the\
  \ body to ensure correct formatting.\n<example>\ngh pr create --title \"the pr title\"\
  \ --body \"$(cat <<'EOF'\n## Summary\n<1-3 bullet points>\nEOF\n)\"\n</example>\n\
  \nImportant:\n- NEVER update the git config\n- Return the PR URL when you're done,\
  \ so the user can see it\n\n# Other common operations\n- View comments on a Github\
  \ PR: gh api repos/foo/bar/pulls/123/comments\n"
parameters:
- name: command
  type: string
  description: The command to execute
  required: true
  schema:
    description: The command to execute
    type: string
- name: timeout
  type: number
  description: Optional timeout in milliseconds
  required: false
  schema:
    description: Optional timeout in milliseconds
    type: number
- name: workdir
  type: string
  description: The working directory to run the command in. Defaults to /shared_folders/querylake_server/ray_testing/ray_SCE/misc/oh_my_opencode_runs/goldens/opencode_1.0.193__oh-my-opencode_2.5.1/phase8_async_subagents_live_check_v2/runs/20251226_210616/workspace.
    Use this instead of 'cd' commands.
  required: false
  schema:
    description: The working directory to run the command in. Defaults to /shared_folders/querylake_server/ray_testing/ray_SCE/misc/oh_my_opencode_runs/goldens/opencode_1.0.193__oh-my-opencode_2.5.1/phase8_async_subagents_live_check_v2/runs/20251226_210616/workspace.
      Use this instead of 'cd' commands.
    type: string
- name: description
  type: string
  description: 'Clear, concise description of what this command does in 5-10 words.
    Examples:

    Input: ls

    Output: Lists files in current directory


    Input: git status

    Output: Shows working tree status


    Input: npm install

    Output: Installs package dependencies


    Input: mkdir foo

    Output: Creates directory ''foo'''
  required: true
  schema:
    description: 'Clear, concise description of what this command does in 5-10 words.
      Examples:

      Input: ls

      Output: Lists files in current directory


      Input: git status

      Output: Shows working tree status


      Input: npm install

      Output: Installs package dependencies


      Input: mkdir foo

      Output: Creates directory ''foo'''
    type: string
